(function(t){function e(e){for(var i,a,c=e[0],o=e[1],l=e[2],d=0,f=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,c=1;c<n.length;c++){var o=n[c];0!==r[o]&&(i=!1)}i&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},r={app:0},s=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/vue-mentoring-project/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"03b5":function(t,e,n){"use strict";var i=n("7483"),r=n("224f"),s=(n("e99a"),n("2877")),a=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,"9d850860",null);e["default"]=a.exports},"0fd9":function(t,e,n){"use strict";n("a6b2")},"12b9":function(t,e,n){},"18a9":function(t,e,n){"use strict";n("f25d")},"224f":function(t,e,n){"use strict";var i=n("b0fe"),r=n.n(i);e["default"]=r.a},2593:function(t,e,n){"use strict";n("e826")},3259:function(t,e,n){"use strict";n("5a99")},3571:function(t,e,n){"use strict";n("5b60")},"35cc":function(t,e,n){},"369f":function(t,e,n){"use strict";n("4a8b")},"3bc4":function(t,e,n){},"480f":function(t,e,n){},"4a8b":function(t,e,n){},"51f2":function(t,e,n){t.exports=n.p+"img/search.36b01431.svg"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view",{key:t.$route.fullPath})],1)},s=[],a={name:"App",data:function(){return{}},components:{}},c=a,o=(n("5c0b"),n("2877")),l=Object(o["a"])(c,r,s,!1,null,null,null),u=l.exports,d=n("2f62"),f=(n("498a"),n("bc3a")),m=n.n(f),p={findAllMovies:function(){return m.a.get("https://react-cdp-api.herokuapp.com/movies?limit=12").then((function(t){return t.data}))},findMovieById:function(t){return m.a.get("https://react-cdp-api.herokuapp.com/movies/".concat(t)).then((function(t){return t.data}))},sortMoviesByOption:function(t,e,n){return m.a.get("https://react-cdp-api.herokuapp.com/movies",{params:{search:t,sortBy:n,searchBy:e,sortOrder:"desc",limit:12}}).then((function(t){return t.data}))},findMoviesByTitle:function(t,e){return m.a.get("https://react-cdp-api.herokuapp.com/movies",{params:{search:t,sortBy:e,searchBy:"title",sortOrder:"desc",limit:12}}).then((function(t){return t.data}))},findMoviesByGenre:function(t,e){return m.a.get("https://react-cdp-api.herokuapp.com/movies",{params:{search:t,sortBy:e,searchBy:"genres",sortOrder:"desc",limit:12}}).then((function(t){return t.data}))}},h=p,v={actions:{fetchFilms:function(t){var e=t.commit;return h.findAllMovies().then((function(t){return e("updateFilms",t.data)}))},findFilmsByTitle:function(t,e){var n=t.commit,i=t.getters;return h.findMoviesByTitle(e,i.getCurrentSortFilmsOption).then((function(t){return n("updateSelectedFilms",t.data)}))},findFilmsByGenre:function(t,e){var n=t.commit,i=t.getters;return h.findMoviesByGenre(e,i.getCurrentSortFilmsOption).then((function(t){return n("updateSelectedFilms",t.data)}))},findFilmsByGenreForCardMenu:function(t,e){var n=t.commit,i=t.getters;return h.findMoviesByGenre(e,i.getCurrentSortFilmsOption).then((function(t){return n("updateCardMenuFilms",t.data)}))},findMovieById:function(t,e){var n=t.commit;return h.findMovieById(e).then((function(t){return n("updateFilmCard",t)}))},sortFilmsByOption:function(t,e){var n=t.commit,i=t.getters;return h.sortMoviesByOption(i.getSearchFieldInput,i.getCurrentSearchFilterOption,e).then((function(t){return n("updateSelectedFilms",t.data)}))}},mutations:{updateFilms:function(t,e){t.films=e},updateSelectedFilms:function(t,e){t.selectedFilms=e},updateCardMenuFilms:function(t,e){t.cardMenuFilms=e},updateFilmCard:function(t,e){t.selectedFilmById=e},chooseSearchOption:function(t,e){t.searchFilterCurrentOption=e},chooseSortOption:function(t,e){t.resultsSorterCurrentOption=e},updateSearchFieldInput:function(t,e){t.searchFieldInput=e},updateCurrentFilmCardGenre:function(t,e){t.currentFilmCardGenre=e}},state:{films:[],selectedFilms:[],cardMenuFilms:[],selectedFilmById:Object,resultsSorterCurrentOption:"rating",searchFilterCurrentOption:"title",searchFieldInput:"",currentFilmCardGenre:""},getters:{filmsCount:function(t){return 0===t.selectedFilms.length&&""===t.searchFieldInput.trim()?t.films.length:t.selectedFilms.length},allFilms:function(t){return t.films},getSearchFieldInput:function(t){return t.searchFieldInput},allSelectedFilms:function(t){return 0===t.selectedFilms.length&&""===t.searchFieldInput.trim()?t.films:t.selectedFilms},allSelectedFilmsForCardMenu:function(t){return t.cardMenuFilms},getFilmCard:function(t){return t.selectedFilmById},getCurrentSearchFilterOption:function(t){return t.searchFilterCurrentOption},getCurrentSortFilmsOption:function(t){return t.resultsSorterCurrentOption},getCurrentFilmCardGenre:function(t){return t.currentFilmCardGenre}}},b=n("0e44");i["a"].use(d["a"]);var g=new d["a"].Store({plugins:[Object(b["a"])({storage:window.sessionStorage})],state:{},mutations:{},actions:{},modules:{filmState:v}}),C=(n("35cc"),n("8c4f")),O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("main-page-header",{staticClass:"main-page-header"}),n("middle-panel",{staticClass:"middle-panel"}),n("results-body",{staticClass:"results-body"}),n("div",{staticClass:"bottom-panel"},[n("logotype",{staticClass:"logo"})],1)],1)},F=[],y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mid-panel"},[n("div",{staticClass:"content"},[n("div",{staticClass:"count-panel"},[n("div",{staticClass:"message"},[t._v(t._s(t.filmsCount)+" movies found")])]),n("div",{staticClass:"results-sorter-block"},[n("results-sorter",{staticClass:"sorter"})],1)])])},_=[],S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"sorter-search-by"},[t._v("SORT BY")]),n("div",{staticClass:"buttons"},[n("input",{staticClass:"btn-check",attrs:{type:"radio",name:"choices",id:"choice1",autocomplete:"off",checked:""},on:{click:t.chooseSortByReleaseDateOption}}),t._m(0),n("input",{staticClass:"btn-check",attrs:{type:"radio",name:"choices",id:"choice2",autocomplete:"off"},on:{click:t.chooseSortByRatingOption}}),t._m(1)])])},j=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"btn btn-primary left",attrs:{for:"choice1"}},[n("p",[t._v("RELEASE DATE")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"btn btn-primary right",attrs:{for:"choice2"}},[n("p",[t._v("RATING")])])}],B=n("5530"),I={mounted:function(){"release_date"===this.getCurrentSortFilmsOption?document.getElementById("choice1").checked=!0:document.getElementById("choice2").checked=!0},computed:Object(d["c"])(["getCurrentSortFilmsOption"]),methods:Object(B["a"])(Object(B["a"])(Object(B["a"])({},Object(d["b"])(["sortFilmsByOption"])),Object(d["d"])(["chooseSortOption"])),{},{chooseSortByReleaseDateOption:function(){this.sortFilmsByOption("release_date"),this.chooseSortOption("release_date")},chooseSortByRatingOption:function(){this.sortFilmsByOption("vote_average"),this.chooseSortOption("vote_average")}})},k=I,w=(n("3259"),Object(o["a"])(k,S,j,!1,null,"1ee63a81",null)),x=w.exports,E={computed:Object(d["c"])(["filmsCount"]),components:{"results-sorter":x}},M=E,T=(n("d18e"),Object(o["a"])(M,y,_,!1,null,"53d6dafe",null)),G=T.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-header"},[n("div",{staticClass:"header-bg"}),n("div",{staticClass:"container"},[n("div",{staticClass:"header-logo"},[n("logotype")],1),n("div",{staticClass:"search-title"},[t._v("FIND YOUR MOVIE")]),n("search-bar",{staticClass:"search-bar"}),n("search-filter",{staticClass:"search-filter"})],1)])},R=[],A=n("03b5"),P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputText,expression:"inputText"}],staticClass:"form-control",attrs:{type:"text",id:"input-field"},domProps:{value:t.inputText},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSubmit(e)},input:function(e){e.target.composing||(t.inputText=e.target.value)}}}),n("div",{staticClass:"search-button"},[n("button",{staticClass:"btn btn-secondary btn-lg",on:{click:t.onSubmit}},[t._v(" SEARCH ")])])])},D=[],N={data:function(){return{inputText:""}},created:function(){""!==this.getSearchFieldInput.trim()&&this.updateSearchFieldInput("")},computed:Object(d["c"])(["getCurrentSearchFilterOption","getCurrentSortFilmsOption","getSearchFieldInput"]),methods:Object(B["a"])(Object(B["a"])(Object(B["a"])({},Object(d["b"])(["findFilmsByTitle","findFilmsByGenre"])),Object(d["d"])(["updateSearchFieldInput","updateSelectedFilms"])),{},{onSubmit:function(){var t=this.getCurrentSearchFilterOption;"title"===t&&this.findFilmsByTitle(this.inputText),"genres"===t&&this.findFilmsByGenre(this.inputText),this.updateSearchFieldInput(this.inputText)}})},L=N,Y=(n("59eb"),Object(o["a"])(L,P,D,!1,null,"06032f7d",null)),H=Y.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"search-by"},[t._v("SEARCH BY")]),n("div",{staticClass:"buttons"},[n("input",{staticClass:"btn-check",attrs:{type:"radio",name:"options",id:"option1",autocomplete:"off",checked:""},on:{click:t.chooseTitleOption}}),n("label",{staticClass:"btn btn-primary",attrs:{for:"option1"}},[t._v("TITLE")]),n("input",{staticClass:"btn-check",attrs:{type:"radio",name:"options",id:"option2",autocomplete:"off"},on:{click:t.chooseGenreOption}}),n("label",{staticClass:"btn btn-primary",attrs:{for:"option2"}},[t._v("GENRE")])])])},U=[],V={mounted:function(){"title"===this.getCurrentSearchFilterOption?document.getElementById("option1").checked=!0:document.getElementById("option2").checked=!0},computed:Object(d["c"])(["getCurrentSearchFilterOption"]),methods:Object(B["a"])(Object(B["a"])({},Object(d["d"])(["chooseSearchOption"])),{},{chooseGenreOption:function(){this.chooseSearchOption("genres")},chooseTitleOption:function(){this.chooseSearchOption("title")}})},q=V,z=(n("a07d"),Object(o["a"])(q,J,U,!1,null,"65b1c949",null)),K=z.exports,Q={components:{"search-bar":H,"search-filter":K,logotype:A["default"]}},W=Q,X=(n("0fd9"),Object(o["a"])(W,$,R,!1,null,"e1845f7c",null)),Z=X.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"results-body"},t._l(t.selectFilms(),(function(t){return n("div",{key:t.id,staticClass:"result-items"},[n("SearchResultItem",{attrs:{id:t.id,genres:t.genres,poster_path:t.poster_path,title:t.title,release_date:t.release_date}})],1)})),0)},et=[],nt=n("1da1"),it=(n("96cf"),n("caad"),n("2532"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"result-item",attrs:{id:"result-item"}},[n("div",{directives:[{name:"image-directive",rawName:"v-image-directive"}],staticClass:"item-image",on:{click:t.openItemCard}},[n("img",{staticClass:"film-img",attrs:{"data-url":t.poster_path,alt:"film"}})]),n("div",{staticClass:"item-info"},[n("div",{staticClass:"item-title-and-genre"},[n("div",{staticClass:"item-title"},[t._v(" "+t._s(t.title)+" ")]),n("div",{staticClass:"genres"},t._l(t.genres,(function(e,i){return n("div",{key:e.id,staticClass:"item-genre"},[0!==i?n("span",[t._v(", ")]):t._e(),n("span",[t._v(t._s(e))])])})),0)]),n("div",{staticClass:"item-production-year"},[n("span",{staticClass:"border"},[t._v(t._s(t.date))])])])])}),rt=[],st=(n("a9e3"),{data:function(){return{date:Date}},props:{id:Number,poster_path:String,title:String,genres:Array,release_date:String},created:function(){this.date=new Date(this.release_date).getFullYear()},methods:Object(B["a"])(Object(B["a"])(Object(B["a"])({},Object(d["d"])(["updateCurrentFilmCardGenre","updateSelectedFilms","updateSearchFieldInput"])),Object(d["b"])(["findFilmsByGenreForCardMenu"])),{},{openItemCard:function(){this.updateCurrentFilmCardGenre(this.genres[0]),this.findFilmsByGenreForCardMenu(this.genres[0]),this.updateSearchFieldInput(this.genres[0]),this.$router.push("/card/"+this.id).catch((function(){}))}})}),at=st,ct=(n("6f50"),Object(o["a"])(at,it,rt,!1,null,"1291613f",null)),ot=ct.exports,lt={methods:Object(B["a"])(Object(B["a"])({},Object(d["b"])(["fetchFilms"])),{},{selectFilms:function(){return this.$router.currentRoute.path.includes("card")?this.films=this.allSelectedFilmsForCardMenu:this.films=this.allSelectedFilms}}),computed:Object(d["c"])(["allSelectedFilms","allSelectedFilmsForCardMenu"]),components:{SearchResultItem:ot},data:function(){return{films:[]}},mounted:function(){var t=this;return Object(nt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchFilms();case 2:case"end":return e.stop()}}),e)})))()}},ut=lt,dt=(n("2593"),Object(o["a"])(ut,tt,et,!1,null,"30a77c27",null)),ft=dt.exports,mt={components:{"middle-panel":G,"main-page-header":Z,"results-body":ft,logotype:A["default"]}},pt=mt,ht=(n("369f"),Object(o["a"])(pt,O,F,!1,null,null,null)),vt=ht.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-menu"},[n("div",{staticClass:"first-block"},[n("ItemCard",{staticClass:"item-card"})],1),n("div",{staticClass:"mid-panel"},[n("div",{staticClass:"info-block"},[n("Information")],1)]),n("ResultsBody",{staticClass:"results-body"})],1)},gt=[],Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"item-header"},[i("div",{staticClass:"header-bg"}),i("div",{staticClass:"header-top-container"},[i("div",{staticClass:"header-logo"},[i("Logotype")],1),i("div",{staticClass:"main-page-button"},[i("router-link",{attrs:{to:"/"}},[i("img",{staticClass:"back-button",attrs:{src:n("51f2"),alt:"main-page"}})])],1)]),i("div",{staticClass:"result-item",attrs:{id:"result-item"}},[i("div",{directives:[{name:"image-directive",rawName:"v-image-directive"}],staticClass:"item-image"},[i("img",{staticClass:"film-img",attrs:{src:t.film.poster_path,alt:"film"}})]),i("div",{staticClass:"item-info"},[i("div",{staticClass:"item-info-without-description"},[i("div",{staticClass:"item-row-title"},[i("div",{staticClass:"item-title"},[t._v(t._s(t.film.title))]),i("div",{staticClass:"item-rating"},[t._v(t._s(t.film.vote_average))])]),i("div",{staticClass:"sub-info-group"},[i("div",{staticClass:"item-subtitle"},[t._v(t._s(t.film.tagline))]),i("div",{staticClass:"item-row-year"},[i("div",{staticClass:"item-production-year"},[t._v(t._s(t.date)+" "),i("span",[t._v("year")])]),i("div",{staticClass:"item-duration"},[t._v(t._s(t._f("durationFilter")(t.film.runtime))+" "),i("span",[t._v("min")])])])])]),i("div",{staticClass:"item-description"},[t._v(t._s(t.film.overview))])])])])},Ot=[],Ft={components:{Logotype:A["default"]},data:function(){return{film:{},date:Date}},methods:Object(d["b"])(["findMovieById"]),computed:Object(B["a"])({},Object(d["c"])(["getFilmCard"])),mounted:function(){var t=this;return Object(nt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),e.next=3,t.findMovieById(t.$route.params.id);case 3:t.film=t.getFilmCard,t.date=new Date(t.film.release_date).getFullYear();case 5:case"end":return e.stop()}}),e)})))()}},yt=Ft,_t=(n("3571"),Object(o["a"])(yt,Ct,Ot,!1,null,"ba3146ae",null)),St=_t.exports,jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info-block"},[t._v(" Films by "+t._s(t.getCurrentFilmCardGenre)+" genre ")])},Bt=[],It={computed:Object(B["a"])({},Object(d["c"])(["getCurrentFilmCardGenre"]))},kt=It,wt=(n("18a9"),Object(o["a"])(kt,jt,Bt,!1,null,"5aa296de",null)),xt=wt.exports,Et={components:{ResultsBody:ft,ItemCard:St,Information:xt}},Mt=Et,Tt=(n("ec57"),Object(o["a"])(Mt,bt,gt,!1,null,null,null)),Gt=Tt.exports,$t=[{path:"/",component:vt},{path:"/card/:id",component:Gt}];i["a"].use(C["a"]);var Rt=new C["a"]({mode:"history",base:"/vue-mentoring-project/",routes:$t});n("4de4"),n("2af1");function At(t){return 1!==Math.sign(parseInt(t))?Math.ceil(180*Math.random()):t}n("7db0"),n("a630"),n("3ca3"),n("159b");var Pt={inserted:function(t){function e(){var e=Array.from(t.children).find((function(t){return"IMG"===t.nodeName}));e&&(e.addEventListener("load",(function(){setTimeout((function(){return t.classList.add("loaded")}),1e3)})),e.addEventListener("error",(function(){console.log("error occurred during image loading"),e.src="https://nilfiskcfm.com/wp-content/uploads/2016/12/placeholder.png"})),e.src=e.dataset.url)}function n(n,i){n.forEach((function(n){n.isIntersecting&&(e(),i.unobserve(t))}))}function i(){var e={root:null,threshold:"0"},i=new IntersectionObserver(n,e);i.observe(t)}window["IntersectionObserver"]?i():e()}};function Dt(t){t.filter("durationFilter",At),t.directive("imageDirective",Pt)}i["a"].config.productionTip=!1,i["a"].use(Dt),new i["a"]({router:Rt,store:g,render:function(t){return t(u)}}).$mount("#app")},"59eb":function(t,e,n){"use strict";n("3bc4")},"5a99":function(t,e,n){},"5b60":function(t,e,n){},"5c0b":function(t,e,n){"use strict";n("9c0c")},"676a":function(t,e,n){},"6f50":function(t,e,n){"use strict";n("676a")},7483:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[n("span",{staticClass:"firstPart"},[t._v("netflix")]),n("span",[t._v("roulette")])])}]},9982:function(t,e,n){},"9c0c":function(t,e,n){},a07d:function(t,e,n){"use strict";n("dcc8")},a6b2:function(t,e,n){},b0fe:function(t,e){},d18e:function(t,e,n){"use strict";n("9982")},dcc8:function(t,e,n){},e826:function(t,e,n){},e99a:function(t,e,n){"use strict";n("12b9")},ec57:function(t,e,n){"use strict";n("480f")},f25d:function(t,e,n){}});
//# sourceMappingURL=app.365c3651.js.map